<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Shiva Tyagi â€” Portfolio</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<script src="https://unpkg.com/three@0.160.0/build/three.min.js"></script>

<style>
:root{
  --bg:#0b0c12;
  --card:#13152a;
  --accent:#6c6cff;
}
*{box-sizing:border-box}
body{
  margin:0;
  background:var(--bg);
  color:#fff;
  font-family:Inter,system-ui,sans-serif;
}
section{
  max-width:1200px;
  margin:auto;
  padding:100px 20px;
}
.hero{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:60px;
  align-items:center;
}
h1{font-size:48px;margin:0}
p{opacity:.8}
#stage{height:420px}

.services{
  display:grid;
  gap:20px;
  margin-top:80px;
}
.card{
  background:var(--card);
  padding:28px;
  border-radius:18px;
  cursor:pointer;
  transition:.25s;
}
.card:hover{background:#1c2045}
@media(max-width:900px){
  .hero{grid-template-columns:1fr}
}
</style>
</head>

<body>

<section class="hero">
  <div>
    <h1>Shiva Tyagi</h1>
    <p>Creative Developer crafting interactive digital experiences.</p>
  </div>
  <div id="stage"></div>
</section>

<section class="services">
  <div class="card" onmouseenter="bars()" onmouseleave="idle()">
    <h3>UI / UX Design</h3>
    <p>Systems, structure & clarity</p>
  </div>
  <div class="card" onmouseenter="cube()" onmouseleave="idle()">
    <h3>Development</h3>
    <p>Modern, scalable builds</p>
  </div>
  <div class="card" onmouseenter="textIcon()" onmouseleave="idle()">
    <h3>Creative Tech</h3>
    <p>Motion & interaction</p>
  </div>
</section>

<script>
/* ===== THREE ===== */
const scene=new THREE.Scene();
const camera=new THREE.PerspectiveCamera(60,1,0.1,100);
camera.position.z=6;

const renderer=new THREE.WebGLRenderer({alpha:true,antialias:true});
renderer.setPixelRatio(devicePixelRatio);
document.getElementById("stage").appendChild(renderer.domElement);

function resize(){
  const s=document.getElementById("stage").clientWidth;
  renderer.setSize(s,s);
}
window.addEventListener("resize",resize);
resize();

/* ===== PARTICLES ===== */
const COUNT=1800;
const geo=new THREE.BufferGeometry();
const pos=new Float32Array(COUNT*3);
const target=new Float32Array(COUNT*3);

for(let i=0;i<COUNT;i++){
  pos[i*3]=(Math.random()-0.5)*8;
  pos[i*3+1]=(Math.random()-0.5)*8;
  pos[i*3+2]=(Math.random()-0.5)*2;
}
geo.setAttribute("position",new THREE.BufferAttribute(pos,3));

const mat=new THREE.PointsMaterial({
  size:0.04,
  color:0x6c6cff,
  opacity:.85,
  transparent:true,
  blending:THREE.AdditiveBlending
});
const points=new THREE.Points(geo,mat);
scene.add(points);

/* ===== CANVAS SHAPES ===== */
const c=document.createElement("canvas");
c.width=220;c.height=220;
const ctx=c.getContext("2d");

function sample(step=3){
  const d=ctx.getImageData(0,0,220,220).data;
  let i=0;
  for(let y=0;y<220;y+=step){
    for(let x=0;x<220;x+=step){
      if(i>=COUNT) return;
      if(d[(y*220+x)*4+3]>200){
        target[i*3]=(x-110)/18;
        target[i*3+1]=(110-y)/18;
        target[i*3+2]=Math.sin(i)*.25;
        i++;
      }
    }
  }
}

function bars(){
  ctx.clearRect(0,0,220,220);
  ctx.fillStyle="#fff";
  ctx.fillRect(55,110,20,70);
  ctx.fillRect(95,80,20,100);
  ctx.fillRect(135,50,20,130);
  sample();
}
function cube(){
  ctx.clearRect(0,0,220,220);
  ctx.strokeStyle="#fff";
  ctx.lineWidth=4;
  ctx.strokeRect(50,50,100,100);
  ctx.strokeRect(80,80,100,100);
  ctx.beginPath();
  ctx.moveTo(50,50);ctx.lineTo(80,80);
  ctx.moveTo(150,50);ctx.lineTo(180,80);
  ctx.moveTo(50,150);ctx.lineTo(80,180);
  ctx.moveTo(150,150);ctx.lineTo(180,180);
  ctx.stroke();
  sample();
}
function textIcon(){
  ctx.clearRect(0,0,220,220);
  ctx.fillStyle="#fff";
  ctx.font="bold 90px Inter";
  ctx.textAlign="center";
  ctx.textBaseline="middle";
  ctx.fillText("DEV",110,120);
  sample();
}
function idle(){
  for(let i=0;i<COUNT;i++){
    target[i*3]=(Math.random()-0.5)*6;
    target[i*3+1]=(Math.random()-0.5)*6;
    target[i*3+2]=(Math.random()-0.5)*2;
  }
}

/* ===== INTERACTION ===== */
document.addEventListener("mousemove",e=>{
  const x=(e.clientX/window.innerWidth-.5)*.4;
  const y=(e.clientY/window.innerHeight-.5)*.4;
  points.rotation.y=x;
  points.rotation.x=y;
});
window.addEventListener("scroll",()=>{
  const t=Math.min(1,scrollY/600);
  camera.position.z=6-1*t;
});

/* ===== LOOP ===== */
idle();
function animate(){
  requestAnimationFrame(animate);
  const p=geo.attributes.position.array;
  for(let i=0;i<p.length;i++){
    p[i]+=(target[i]-p[i])*.045;
  }
  geo.attributes.position.needsUpdate=true;
  renderer.render(scene,camera);
}
animate();
</script>

</body>
</html>
